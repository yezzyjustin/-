https://arxiv.org/pdf/2302.06052.pdf
现有的SOTA方法通常先通过主干网络提取多尺度特征，然后通过轻量级模块融合这些特征，然而，这样的范例来融合多尺度特征可能不是很充分，因为与重量级主干网络相比，分配给特征融合的参数是有限的。
提出了一种除了用于提取初始高分辨率特征的主干和几个模块之外，还引入了几个级联stage，使其能够生成更丰富的多尺度特征，每个stage都包含一个用于特征提取的子主干和一个用于特征集成的轻量级转换模块，这种设计可以使得更深入有效地融合特征与整个主干的大部分参数。
![[v2-b2e70469dfb3a2475d7f37695cc8b8a5_b.jpg]]
CNN和transformer网络在架构设计中均遵循逐渐减小特征图的空间大小的方式，来获取最高级语义特征进行预测。然而，对于许多密集预测任务，例如检测和分割，则需要多尺度特征来处理不同尺度的目标。
在计算资源不变的情况下，如果想为特征融合分配更多的参数，一个直观的方法是使用更小的主干并扩大融合模块。FPN模块为了融合多尺度特征，来自相邻层的特征首先通过逐元素相加进行整合，然后使用单个卷积来对求和特征进行变换，也就是特征集成和特征转换。
![[v2-79bd009f8a46aa89721280a5dd57526b_b.jpg]]
上图展示了CFNet网络架构。输入一张尺寸大小为HxW的 RGB 图像，经过一个 stem 和 N 个连续的块(block)处理，提取到H/4xW/4的高分辨率特征。stem 由两个步幅(stride)为 2 的3x3卷积层组成，每个卷积层后面跟着一个 LayerNorm 层和一个 GELU 单元。CFNet 中的块(block)可以是之前的一些研究中提出的任何设计，例如 ResNet 瓶颈块、ConvNeXt 块、Swin Transformer 块等。

在CFNet 的多级结构中，高分辨率的特征经过一个步幅(stride)为 2 的2x2卷积层降采样后，被送入M个级联的stage中。所有的stage都共享相同的结构，但是它们可能具有不同数量的块(block)。在每个stage的最后一个块组中，应用了关注块(focal block)。值得注意的是，每个阶段输出带有步幅为 8、16、32 的特征 P3、P4、P5，但只有 P3 特征被送入后续stage。最后，由最后一个阶段输出的融合特征 P3、P4 和 P5 用于密集预测任务。